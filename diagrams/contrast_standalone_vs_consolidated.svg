<svg xmlns="http://www.w3.org/2000/svg" width="960" height="700" viewBox="0 0 960 700">
  <defs>
    <style>
      .t { font-family: "Noto Sans JP","Hiragino Sans","Yu Gothic","Meiryo",sans-serif; }

      /* Type scale */
      .title { font-weight: 900; font-size: 24px; fill: #ffffff; letter-spacing: 0.01em; }
      .title-sub { font-weight: 600; font-size: 16px; }
      .desc { font-weight: 700; font-size: 16px; fill: #3c4043; }
      .step { font-weight: 900; font-size: 18px; fill: #202124; }
      .step-sub { font-weight: 700; font-size: 13px; fill: #5f6368; }
      .pill-text { font-weight: 900; font-size: 14px; letter-spacing: 0.01em; }
      .chip-text { font-weight: 900; font-size: 13px; letter-spacing: 0.01em; }
      .chip-sub  { font-weight: 700; font-size: 12px; letter-spacing: 0.01em; fill: #5f6368; }

      /* Card */
      .card { fill: #ffffff; filter: url(#dropShadow); }
      .card-border { fill: none; stroke: #dadce0; stroke-width: 1.25; }
      .header-standalone { fill: #5f6368; }
      .header-consolidated { fill: #1a73e8; }
      .divider { stroke: #e8eaed; stroke-width: 2; }

      /* Boxes */
      .box { fill: #ffffff; stroke: #dadce0; stroke-width: 2; }
      .box-soft { fill: #f8f9fa; stroke: #dadce0; stroke-width: 2; }
      .box-final { fill: #f1f3f4; stroke: #c6cacf; stroke-width: 2; }
      .box-blue { fill: #e8f0fe; stroke: #8ab4f8; stroke-width: 2; }
      .box-final-blue { fill: #d2e3fc; stroke: #669df6; stroke-width: 2; }

      /* Arrows */
      .arrow { stroke-width: 4; fill: none; stroke-linecap: round; }
      .arrow-grey { stroke: #9aa0a6; marker-end: url(#arrowHeadGrey); }
      .arrow-blue { stroke: #669df6; marker-end: url(#arrowHeadBlue); }
      .arrow-blue-dash { stroke: #669df6; stroke-dasharray: 6 6; marker-end: url(#arrowHeadBlue); }
      .arrow-grey-dash { stroke: #9aa0a6; stroke-dasharray: 6 6; marker-end: url(#arrowHeadGrey); }

      /* Icons */
      .icon-grey { fill: #5f6368; color: #5f6368; }
      .icon-blue { fill: #1a73e8; color: #1a73e8; }
      .icon-red  { fill: #ea4335; color: #ea4335; }
    </style>

    <filter id="dropShadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="0" dy="6" stdDeviation="8" flood-color="#3c4043" flood-opacity="0.14"/>
    </filter>

    <marker id="arrowHeadGrey" viewBox="0 0 10 10" refX="9" refY="5"
            markerWidth="10" markerHeight="10" markerUnits="userSpaceOnUse" orient="auto">
      <path d="M0 0 L10 5 L0 10 z" fill="#9aa0a6"/>
    </marker>

    <marker id="arrowHeadBlue" viewBox="0 0 10 10" refX="9" refY="5"
            markerWidth="10" markerHeight="10" markerUnits="userSpaceOnUse" orient="auto">
      <path d="M0 0 L10 5 L0 10 z" fill="#669df6"/>
    </marker>

    <!-- Icons -->
    <symbol id="icon-diary" viewBox="0 0 24 24">
      <path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z" fill-opacity="0.2"/>
      <path d="M19 3H6c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 13H8v-2h6v2zm3-4H8v-2h9v2zm0-4H8V6h9v2z"/>
    </symbol>

    <symbol id="icon-ledger" viewBox="0 0 24 24">
      <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
    </symbol>

    <symbol id="icon-report" viewBox="0 0 24 24">
      <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
    </symbol>

    <symbol id="icon-gather" viewBox="0 0 24 24">
      <path d="M4 14h4v4H4zM4 6h4v4H4zM10 8h7l-3 3 3 3h-7V8z" opacity="0.8"/>
      <path d="M20 10v4h-4v-4h4m2-2h-8v8h8V8zM16 16v4h-6v-4h6m2-2H8v8h10v-8z" fill-rule="evenodd"/>
    </symbol>

    <!-- Simplified merge icon (monochrome) -->
    <symbol id="icon-merge" viewBox="0 0 24 24">
      <rect x="3" y="5" width="6" height="3" rx="1" fill="currentColor" opacity="0.35"/>
      <rect x="3" y="10.5" width="6" height="3" rx="1" fill="currentColor" opacity="0.55"/>
      <rect x="3" y="16" width="6" height="3" rx="1" fill="currentColor" opacity="0.75"/>
      <path d="M10 12h5" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"/>
      <path d="M13.5 9.5 L16 12 L13.5 14.5" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
      <rect x="17" y="7" width="4" height="10" rx="1.2" fill="currentColor" opacity="0.9"/>
    </symbol>

    <symbol id="icon-puzzle" viewBox="0 0 24 24">
      <path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"/>
    </symbol>

    <symbol id="icon-reset" viewBox="0 0 24 24">
      <path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"/>
    </symbol>

    <!-- No-ledger icon: ledger + red slash -->
    <symbol id="icon-no-ledger" viewBox="0 0 24 24">
      <use href="#icon-ledger" x="0" y="0" width="24" height="24"/>
      <path d="M5 19 L19 5" stroke="#ea4335" stroke-width="2.4" stroke-linecap="round"/>
    </symbol>
  </defs>

  <!-- Standalone card -->
  <g transform="translate(40,28)">
    <rect width="880" height="290" rx="18" class="card"/>
    <rect width="880" height="290" rx="18" class="card-border"/>
    <path d="M0,18 Q0,0 18,0 H862 Q880,0 880,18 V60 H0 Z" class="header-standalone"/>

    <text x="24" y="40" class="t title">単体会計 <tspan class="title-sub" fill="#e8eaed">（積み上げ）</tspan></text>
    <text x="24" y="100" class="t desc">日々仕訳 → 元帳に積み上げ → そのまま個別FS</text>

    <line x1="636" y1="120" x2="636" y2="272" class="divider"/>

    <!-- flow (left column) -->
    <g transform="translate(24,140)">
      <rect width="176" height="88" rx="14" class="box"/>
      <use href="#icon-diary" x="18" y="24" width="40" height="40" class="icon-grey"/>
      <text x="76" y="52" class="t step">日々仕訳</text>

      <line x1="185" y1="44" x2="203" y2="44" class="arrow arrow-grey"/>

      <g transform="translate(212,0)">
        <rect width="176" height="88" rx="14" class="box-soft"/>
        <use href="#icon-ledger" x="18" y="24" width="40" height="40" class="icon-grey"/>
        <text x="76" y="52" class="t step">元帳</text>
      </g>

      <line x1="397" y1="44" x2="415" y2="44" class="arrow arrow-grey"/>

      <g transform="translate(424,0)">
        <rect width="176" height="88" rx="14" class="box-final"/>
        <use href="#icon-report" x="18" y="24" width="40" height="40" class="icon-grey"/>
        <text x="76" y="44" class="t step">決算書</text>
        <text x="76" y="66" class="t step-sub">（個別FS）</text>
      </g>
    </g>

    <!-- right column -->
    <g transform="translate(648,140)">
      <rect width="208" height="42" rx="21" fill="#f1f3f4" stroke="#dadce0" stroke-width="2"/>
      <use href="#icon-diary" x="14" y="9" width="24" height="24" class="icon-grey"/>
      <text x="46" y="27" class="t pill-text" fill="#3c4043">日記：毎日書く</text>

      <rect y="54" width="208" height="40" rx="12" fill="#f8f9fa" stroke="#dadce0" stroke-width="1.8"/>
      <use href="#icon-ledger" x="14" y="65" width="18" height="18" class="icon-grey"/>
      <text x="40" y="74" class="t chip-text" fill="#3c4043">翌期も積み上げ</text>
      <text x="40" y="90" class="t chip-sub">（残高が続く）</text>
    </g>

    <path d="M610 184 C 650 184 650 210 644 210" class="arrow arrow-grey-dash"/>
  </g>

  <!-- Consolidated card -->
  <g transform="translate(40,364)">
    <rect width="880" height="290" rx="18" class="card"/>
    <rect width="880" height="290" rx="18" class="card-border"/>
    <path d="M0,18 Q0,0 18,0 H862 Q880,0 880,18 V60 H0 Z" class="header-consolidated"/>

    <text x="24" y="40" class="t title">連結会計 <tspan class="title-sub" fill="#d2e3fc">（組み立て＋リセット）</tspan></text>
    <text x="24" y="100" class="t desc">期末に収集 → 合算・調整 → 連結FSを作る</text>

    <line x1="636" y1="120" x2="636" y2="272" class="divider"/>

    <!-- flow (left column) -->
    <g transform="translate(24,140)">
      <rect width="176" height="88" rx="14" class="box-blue"/>
      <use href="#icon-gather" x="18" y="24" width="40" height="40" class="icon-blue"/>
      <text x="76" y="52" class="t step">データ収集</text>

      <line x1="185" y1="44" x2="203" y2="44" class="arrow arrow-blue"/>

      <g transform="translate(212,0)">
        <rect width="176" height="88" rx="14" class="box-blue"/>
        <use href="#icon-merge" x="18" y="24" width="40" height="40" class="icon-blue"/>
        <text x="76" y="52" class="t step">合算・調整</text>
      </g>

      <line x1="397" y1="44" x2="415" y2="44" class="arrow arrow-blue"/>

      <g transform="translate(424,0)">
        <rect width="176" height="88" rx="14" class="box-final-blue"/>
        <use href="#icon-report" x="18" y="24" width="40" height="40" class="icon-blue"/>
        <text x="76" y="44" class="t step">決算書</text>
        <text x="76" y="66" class="t step-sub" fill="#1a73e8">（連結FS）</text>
      </g>
    </g>

    <!-- right column -->
    <g transform="translate(648,140)">
      <rect width="208" height="42" rx="21" fill="#e8f0fe" stroke="#a0c3ff" stroke-width="2"/>
      <use href="#icon-puzzle" x="14" y="9" width="24" height="24" class="icon-blue"/>
      <text x="46" y="27" class="t pill-text" fill="#1a73e8">パズル：毎回集める</text>

      <rect y="54" width="208" height="28" rx="12" fill="#fce8e6" stroke="#f4c7c3" stroke-width="1.8"/>
      <use href="#icon-no-ledger" x="14" y="59" width="18" height="18" class="icon-grey"/>
      <text x="40" y="74" class="t chip-text" fill="#ea4335">※連結帳簿なし</text>

      <rect y="92" width="208" height="46" rx="12" fill="#f1f3f4" stroke="#dadce0" stroke-width="1.8"/>
      <use href="#icon-reset" x="14" y="103" width="18" height="18" class="icon-grey"/>
      <text x="40" y="112" class="t chip-text" fill="#3c4043">決算後：解散（リセット）</text>
      <text x="40" y="130" class="t chip-sub">翌期：開始仕訳から再スタート</text>
    </g>

    <path d="M610 184 C 660 184 660 248 644 248" class="arrow arrow-blue-dash"/>
  </g>
</svg>
